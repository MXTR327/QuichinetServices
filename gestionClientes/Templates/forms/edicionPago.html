{% extends 'includes/base.html' %}
{% load static %}

{% block title %}
  Agregar Pago | Quichinet Services
{% endblock %}

{% block content %}
  <div class="container mt-5">
    <h2 class="mt-4 text-white">Editar Pago de Cliente</h2>
    <div class="card">
      <div class="card-body">
        <form action="/editarPago/" method="post">
          {% csrf_token %}

          <div class="form-group">
            <label for="codigo">ID Pago</label>
            <input type="text" name="codigo" value="{{ pago.id_pago }}" class="form-control" readonly />
          </div>

          <div class="form-group">
            <label for="fecha_esperada">Fecha de Pago Esperada</label>
            <input type="date" name="fecha_esperada" value="{{ pago.fecha_pago_esperada|date:'Y-m-d' }}" class="form-control" required />
          </div>

          {% if pago.fecha_pago_real %}
            <div class="form-group">
              <label for="fecha_real">Fecha de Pago Real</label>
              <input type="date" name="fecha_real" value="{{ pago.fecha_pago_real|date:'Y-m-d' }}" class="form-control" required />
            </div>
          {% endif %}

          <div class="form-group">
            <label for="monto_pago">Monto de Pago</label>
            <input type="text" name="monto_pago" value="{{ pago.monto_pago }}" oninput="validarDecimal(this)" class="form-control" required />
          </div>

          {% if pago.metodo_pago %}
            <div class="form-group">
              <label for="metodo_pago">Método de Pago</label>
              <select name="metodo_pago" class="form-control" required onchange="validateSelection(this)">
                <option value="">-- Métodos --</option>
                <option value="Efectivo" {% if pago.metodo_pago == "Efectivo" %} selected {% endif %}>Efectivo</option>
                <option value="YAPE" {% if pago.metodo_pago == "YAPE" %} selected {% endif %}>YAPE</option>
                <option value="Transferencia bancaria" {% if pago.metodo_pago == "Transferencia bancaria" %} selected {% endif %}>Transferencia bancaria</option>
               </select>
            </div>
          {% endif %}

          <button type="submit" class="btn btn-primary btn-sm mt-3">Editar Pago</button>
        </form>
      </div>
      <div class="card-footer text-muted">
        <a href="#" onclick="window.history.go(-1); return false;" class="btn btn-secondary btn-sm">Regresar</a>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script src="{% static 'js/agregarPago_js.js' %}"></script>
{% endblock %}
